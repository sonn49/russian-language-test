const questions = [
    {
        question: "Выберите правильный вариант:",
        answers: [
            { text: "Я иду в магазин", correct: true },
            { text: "Я идти в магазин", correct: false },
            { text: "Я идёт в магазин", correct: false },
            { text: "Я идут в магазин", correct: false }
        ],
        level: "A1"
    },
    {
        question: "Как правильно?",
        answers: [
            { text: "двадцать один студенты", correct: false },
            { text: "двадцать один студентов", correct: false },
            { text: "двадцать один студент", correct: true },
            { text: "двадцать один студента", correct: false }
        ],
        level: "A2"
    },
    {
        question: "Выберите правильное окончание: Я вижу красив... девушк...",
        answers: [
            { text: "красивая девушка", correct: false },
            { text: "красивую девушку", correct: true },
            { text: "красивой девушке", correct: false },
            { text: "красивой девушкой", correct: false }
        ],
        level: "A2"
    },
    {
        question: "Выберите правильный вариант:",
        answers: [
            { text: "Я хожу в университете", correct: false },
            { text: "Я хожу в университет", correct: true },
            { text: "Я хожу на университет", correct: false },
            { text: "Я хожу к университету", correct: false }
        ],
        level: "A1"
    },
    {
        question: "Вчера я ... новый фильм.",
        answers: [
            { text: "смотрю", correct: false },
            { text: "смотрел", correct: true },
            { text: "буду смотреть", correct: false },
            { text: "посмотрю", correct: false }
        ],
        level: "A1"
    },
    {
        question: "Выберите антоним к слову 'лёгкий':",
        answers: [
            { text: "тяжёлый", correct: true },
            { text: "светлый", correct: false },
            { text: "маленький", correct: false },
            { text: "большой", correct: false }
        ],
        level: "A2"
    },
    {
        question: "Какое слово является синонимом к слову 'храбрый'?",
        answers: [
            { text: "умный", correct: false },
            { text: "красивый", correct: false },
            { text: "смелый", correct: true },
            { text: "добрый", correct: false }
        ],
        level: "B1"
    },
    {
        question: "Выберите правильный вариант: Если бы у меня было время, я ... в кино.",
        answers: [
            { text: "пойду", correct: false },
            { text: "буду идти", correct: false },
            { text: "пошёл бы", correct: true },
            { text: "иду", correct: false }
        ],
        level: "B1"
    },
    {
        question: "Выберите правильный вариант: ... прочитать книгу за неделю.",
        answers: [
            { text: "Я должен", correct: true },
            { text: "Я должна", correct: false },
            { text: "Я должно", correct: false },
            { text: "Я должны", correct: false }
        ],
        level: "A2"
    },
    {
        question: "Выберите слово с правильным ударением:",
        answers: [
            { text: "звОнит", correct: false },
            { text: "звонИт", correct: true },
            { text: "зАвонит", correct: false },
            { text: "звонИть", correct: false }
        ],
        level: "B1"
    },
    {
        question: "Что означает выражение 'бить баклуши'?",
        answers: [
            { text: "много работать", correct: false },
            { text: "драться", correct: false },
            { text: "болтать с друзьями", correct: false },
            { text: "бездельничать", correct: true }
        ],
        level: "C1"
    },
    {
        question: "Выберите правильный вариант: Мама сказала, чтобы я ... домашнее задание.",
        answers: [
            { text: "сделаю", correct: false },
            { text: "делаю", correct: false },
            { text: "сделал", correct: true },
            { text: "буду делать", correct: false }
        ],
        level: "B2"
    },
    {
        question: "Закончите фразеологизм: 'Как рыба в ...'",
        answers: [
            { text: "океане", correct: false },
            { text: "воде", correct: true },
            { text: "реке", correct: false },
            { text: "море", correct: false }
        ],
        level: "B2"
    },
    {
        question: "Выберите правильный вариант: ... хотелось бы поехать в Москву.",
        answers: [
            { text: "Мне", correct: true },
            { text: "Я", correct: false },
            { text: "Меня", correct: false },
            { text: "Мной", correct: false }
        ],
        level: "B1"
    },
    {
        question: "Какое из этих слов является архаизмом?",
        answers: [
            { text: "телефон", correct: false },
            { text: "компьютер", correct: false },
            { text: "чело", correct: true },
            { text: "автомобиль", correct: false }
        ],
        level: "C1"
    },
    {
        question: "Выберите правильный вариант: 'Она любила ... музыку'.",
        answers: [
            { text: "классический", correct: false },
            { text: "классическая", correct: false },
            { text: "классическую", correct: true },
            { text: "классическое", correct: false }
        ],
        level: "B1"
    },
    {
        question: "Что означает выражение 'водить за нос'?",
        answers: [
            { text: "помогать", correct: false },
            { text: "обманывать", correct: true },
            { text: "дружить", correct: false },
            { text: "заботиться", correct: false }
        ],
        level: "B2"
    },
    {
        question: "Выберите правильный деепричастный оборот:",
        answers: [
            { text: "Прочитав книгу, она мне понравилась", correct: false },
            { text: "Прочитав книгу, я узнал много интересного", correct: true },
            { text: "Прочитав книгу, было интересно", correct: false },
            { text: "Прочитав книгу, меня удивило её содержание", correct: false }
        ],
        level: "C1"
    },
    {
        question: "Определите, в каком предложении есть инверсия:",
        answers: [
            { text: "Я пошёл в магазин", correct: false },
            { text: "В магазин я пошёл", correct: true },
            { text: "Он читает книгу", correct: false },
            { text: "Мы любим гулять в парке", correct: false }
        ],
        level: "C2"
    },
    {
        question: "Выберите предложение без грамматических ошибок:",
        answers: [
            { text: "Согласно приказа директора, работа будет выполнена в срок", correct: false },
            { text: "Согласно приказу директора, работа будет выполнена в срок", correct: true },
            { text: "По приказа директора, работа будет выполнена в срок", correct: false },
            { text: "Благодаря приказа директора, работа будет выполнена в срок", correct: false }
        ],
        level: "C2"
    }
];

const levelDescriptions = {
    "A1": {
        name: "Уровень A1 (Элементарный)",
        description: "Вы только начинаете изучать русский язык. Вы можете понимать и использовать знакомые повседневные выражения и очень простые фразы для удовлетворения конкретных потребностей. Можете представиться, задать простые вопросы и ответить на них. Можете участвовать в несложной беседе, если собеседник говорит медленно и отчетливо и готов помочь."
    },
    "A2": {
        name: "Уровень A2 (Базовый)",
        description: "Вы понимаете предложения и часто используемые выражения, связанные с основными сферами жизни (например, основные сведения о себе и членах семьи, покупках, работе). Можете выполнять простые и прямые задачи, требующие обмена информацией на знакомые темы. Можете рассказать о своем прошлом, описать окружение и затронуть вопросы, связанные с насущными потребностями."
    },
    "B1": {
        name: "Уровень B1 (Средний)",
        description: "Вы можете понимать основные идеи четких сообщений, сделанных на литературном языке на разные темы, типично возникающие на работе, учебе, досуге и т.д. Умеете общаться в большинстве ситуаций, которые могут возникнуть во время путешествия по стране изучаемого языка. Можете составить связное сообщение на знакомые или интересующие вас темы, описать впечатления, события, надежды, стремления, изложить и обосновать свое мнение."
    },
    "B2": {
        name: "Уровень B2 (Выше среднего)",
        description: "Вы понимаете основные идеи сложных текстов на абстрактные и конкретные темы, в том числе узкоспециальные тексты. Говорите достаточно бегло и спонтанно, чтобы общаться с носителями языка без особых затруднений. Умеете составить четкий, подробный текст на различные темы и изложить свой взгляд на основную проблему, показать преимущества и недостатки разных мнений."
    },
    "C1": {
        name: "Уровень C1 (Продвинутый)",
        description: "Вы понимаете объемные сложные тексты на различную тематику, распознаете их скрытое значение. Говорите спонтанно, бегло, не испытывая затруднений с подбором слов и выражений. Гибко и эффективно используете язык для общения в научной и профессиональной деятельности. Можете создать точный, хорошо выстроенный, подробный текст на сложные темы, демонстрируя владение моделями организации текста, средствами связи и объединением его элементов."
    },
    "C2": {
        name: "Уровень C2 (Свободное владение)",
        description: "Вы понимаете практически любое устное или письменное сообщение, можете составить связный текст, выразить свои мысли, опираясь на несколько устных и письменных источников. Говорите спонтанно с высоким темпом и высокой степенью точности, подчеркивая оттенки значений даже в самых сложных случаях. Ваш уровень владения русским языком близок к уровню носителя языка."
    }
};

function determineLevel(results) {
    // Считаем количество правильных ответов по уровням
    const levelScores = {
        "A1": 0, "A2": 0, "B1": 0, "B2": 0, "C1": 0, "C2": 0
    };
    
    let totalCorrect = 0;
    
    results.forEach((result, index) => {
        if (result) {
            totalCorrect++;
            levelScores[questions[index].level]++;
        }
    });
    
    // Процент правильных ответов
    const percentCorrect = (totalCorrect / results.length) * 100;
    
    // Определяем уровень
    if (percentCorrect < 30) return "A1";
    if (percentCorrect < 50) return "A2";
    if (percentCorrect < 65) return "B1";
    if (percentCorrect < 80) return "B2";
    if (percentCorrect < 95) return "C1";
    return "C2";
} 